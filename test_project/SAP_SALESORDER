{"class_fqid":"com-snaplogic-pipeline_9","instance_version":25,"link_serial":115,"path_id":"/OmnicomDev/projects/Shibi Prabhu","property_map":{"info":{"label":{"value":"SAP_SALESORDER"},"author":{"value":"shibi.prabhu@flywheeldigital.com"},"pipeline_doc_uri":{"value":null},"notes":{"value":null},"purpose":{"value":null}},"error":{"9b55ee71-a7bc-4a0b-ab63-e1f66fee52ad_error0":{"view_type":{"value":"document"},"label":{"value":"Pipeline Execute - error0"}},"error_behavior":{"value":"none"}},"settings":{"error_pipeline":{"value":null,"expression":false},"error_param_table":{"value":[]},"param_table":{"value":[]},"imports":{"value":[]}},"instance_version":24,"input":{},"output":{"5101b64b-7d1f-4e29-b5e5-79b350a4cbdb_output0":{"view_type":{"value":"document"},"label":{"value":"Sum of Records - output0"}}}},"render_map":{"scale_ratio":1,"pan_x_num":0,"pan_y_num":0,"default_snaplex":"66ab5aac86801df4cd2cfc05","detail_map":{"d8954762-9c1b-496b-82da-61fe75a90f91":{"grid_x_int":3,"grid_y_int":2,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"input":{}},"20489636-42d8-4bc4-ba87-fbd0b7536715":{"grid_x_int":6,"grid_y_int":2,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"output":{},"input":{}},"9b55ee71-a7bc-4a0b-ab63-e1f66fee52ad":{"grid_x_int":7,"grid_y_int":2,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"error":{"error0":{"rot_int":0,"dx_int":0,"dy_int":-1}}},"c3ab5e34-00d9-4f10-924b-ab0b28c232f8":{"grid_x_int":8,"grid_y_int":2,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"output":{},"input":{}},"5101b64b-7d1f-4e29-b5e5-79b350a4cbdb":{"grid_x_int":9,"grid_y_int":2,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"output":{},"input":{}},"d3f21319-0ecc-4dc6-8354-6b5f5982ffe4":{"grid_x_int":4,"grid_y_int":2,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0},"21a626b4-c354-42a9-b9e4-79461f5c9d93":{"grid_x_int":5,"grid_y_int":2,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"output":{},"input":{}}}},"snap_map":{"d8954762-9c1b-496b-82da-61fe75a90f91":{"class_fqid":"com-snaplogic-snaps-azuresql-execute_1-main29887","class_id":"com-snaplogic-snaps-azuresql-execute","class_version":1,"instance_fqid":"d8954762-9c1b-496b-82da-61fe75a90f91_6","instance_version":6,"property_map":{"info":{"label":{"value":"Drop the table"},"notes":{}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"sqlStatement":{"value":"drop table [dbo].[SAP PAGINATION TEST - SALESORDER]","expression":false},"queryType":{"value":"Auto","expression":false},"autoCommit":{"value":"Use account setting"},"maxRetryProp":{"value":0,"expression":false},"execution_mode":{"value":"Execute only"},"retryIntervalProp":{"value":1,"expression":false},"passThrough":{"value":true},"ignoreEmptyResult":{"value":false},"executable_during_suggest":{"value":false}},"account":{"account_ref":{"value":{"label":{"value":"Omnicom_Internal_Azure","label":"../../shared/Omnicom_Internal_Azure","expression":false},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-azuresqldatabaseaccount"},"ref_id":{"value":"fb179940-0e97-4c84-b876-79905bc3111c","expression":false}}}},"view_serial":101,"input":{},"output":{"output101":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"main29887","instance_id":"d8954762-9c1b-496b-82da-61fe75a90f91"},"20489636-42d8-4bc4-ba87-fbd0b7536715":{"class_fqid":"com-snaplogic-snaps-script-script_2-main29887","class_id":"com-snaplogic-snaps-script-script","class_version":2,"instance_fqid":"20489636-42d8-4bc4-ba87-fbd0b7536715_1","instance_version":1,"property_map":{"info":{"label":{"value":"Top and Split"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"ignore"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"executable_during_suggest":{"value":false},"language":{"value":"Python"},"script":{"value":null,"expression":false},"editable_content":{"value":"from com.snaplogic.scripting.language import ScriptHook\r\n\r\nclass TransformScript(ScriptHook):\r\n    def __init__(self, input, output, error, log):\r\n        self.input = input\r\n        self.output = output\r\n        self.error = error\r\n        self.log = log\r\n\r\n    def execute(self):\r\n        while self.input.hasNext():\r\n            try:\r\n                in_doc = self.input.next()\r\n                total_count = int(in_doc.get('total_count'))\r\n                page_size = 500000\r\n                page_count = (total_count + page_size - 1) // page_size  # Ceiling division\r\n\r\n                for i in range(page_count):\r\n                    skip = i * page_size\r\n                    top = min(page_size, total_count - skip)\r\n                    self.output.write({'top': top, 'skip': skip})\r\n            except Exception as e:\r\n                self.error.write({'error': str(e)})\r\n\r\n    def cleanup(self):\r\n        pass\r\n\r\nhook = TransformScript(input, output, error, log)"}},"view_serial":100},"class_build_tag":"main29887","instance_id":"20489636-42d8-4bc4-ba87-fbd0b7536715"},"9b55ee71-a7bc-4a0b-ab63-e1f66fee52ad":{"class_fqid":"com-snaplogic-snaps-flow-pipeexec_1-main29887","class_id":"com-snaplogic-snaps-flow-pipeexec","class_version":1,"instance_fqid":"9b55ee71-a7bc-4a0b-ab63-e1f66fee52ad_4","instance_version":4,"property_map":{"info":{"label":{"value":"Pipeline Execute"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"continue"}},"settings":{"timeout":{"value":null,"expression":false},"pipeline":{"expression":false,"value":"CHILD - SALESORDER"},"execLabel":{"expression":true,"value":null},"params":{"value":[{"paramValue":{"expression":true,"value":"$top"},"paramName":{"value":"top"}},{"paramName":{"value":"skip"},"paramValue":{"value":"$skip","expression":true}}]},"execution_mode":{"value":"Validate & Execute"},"snaplexGovernor":{"value":"SNAPLEX_WITH_PATH"},"retryInterval":{"value":null,"expression":false},"retryLimit":{"value":null,"expression":false},"reuse":{"value":false},"snaplex":{"expression":false},"executable_during_suggest":{"value":true},"batchSize":{"value":1,"expression":false},"poolSize":{"value":1,"expression":false},"loopDocument":{"expression":true}},"view_serial":100},"class_build_tag":"main29887","instance_id":"9b55ee71-a7bc-4a0b-ab63-e1f66fee52ad"},"c3ab5e34-00d9-4f10-924b-ab0b28c232f8":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-main29887","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"c3ab5e34-00d9-4f10-924b-ab0b28c232f8_1","instance_version":1,"property_map":{"info":{"label":{"value":"Records loaded"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"passThrough":{"value":false},"transformations":{"value":{"mappingRoot":{"value":"$"},"mappingTable":{"value":[{"expression":{"expression":true,"value":"parseInt($status.split(\" \")[0])"},"targetPath":{"value":"Records loaded"}}]}}},"nullSafeAccess":{"value":false}},"view_serial":100},"class_build_tag":"main29887","instance_id":"c3ab5e34-00d9-4f10-924b-ab0b28c232f8"},"5101b64b-7d1f-4e29-b5e5-79b350a4cbdb":{"class_fqid":"com-snaplogic-snaps-transform-aggregate_3-main29887","class_id":"com-snaplogic-snaps-transform-aggregate","class_version":3,"instance_fqid":"5101b64b-7d1f-4e29-b5e5-79b350a4cbdb_1","instance_version":1,"property_map":{"info":{"label":{"value":"Sum of Records"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"aggregateFields":{"value":[{"function":{"value":"SUM"},"field":{"expression":true,"value":"$['Records loaded']"},"resultField":{"value":"Total recods loaded"}}]},"integerMode":{"value":false},"sortedStreams":{"value":"Unsorted"},"minimumMemory":{"value":500,"expression":false},"outOfResourceTimeout":{"value":30,"expression":false},"groupByFields":{"value":[]}},"view_serial":100},"class_build_tag":"main29887","instance_id":"5101b64b-7d1f-4e29-b5e5-79b350a4cbdb"},"d3f21319-0ecc-4dc6-8354-6b5f5982ffe4":{"class_fqid":"com-snaplogic-snaps-apisuite-httpclient_1-main29887","class_id":"com-snaplogic-snaps-apisuite-httpclient","class_version":1,"instance_fqid":"d3f21319-0ecc-4dc6-8354-6b5f5982ffe4_4","instance_version":4,"property_map":{"info":{"label":{"value":"Get line count"},"notes":{}},"input":{"input101":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"output":{"outputResponse":{"view_type":{"value":"document"},"label":{"value":"Response"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"queryParam":{"value":[]},"httpMethod":{"value":"GET","expression":false},"execution_mode":{"value":"Execute only"},"preventURLEncoding":{"value":false},"httpEntity":{"value":{"entityType":{"value":"none"},"rawEntity":{"value":"$","expression":true},"multipartSubtype":{"value":"form-data","expression":false},"multipartForm":{"value":[{"partType":{"value":"Text"},"partKey":{"value":null,"expression":false},"partValue":{"value":null,"expression":false},"partContentType":{"value":null,"expression":false}}]},"urlEncodedForm":{"value":[]},"binaryFile":{"value":null,"expression":false}}},"formEncodeSpace":{"value":false},"uri":{"value":"\"https://my305748-api.s4hana.ondemand.com/sap/opu/odata/sap/YY1_O2CSALESORDEROVERV_BI_CDS/YY1_O2Csalesorderoverv_BI(P_ExchangeRateType='M',P_DisplayCurrency='USD')/Results/$count\"","expression":true},"header":{"value":[]},"enableDebug":{"value":true},"pagination":{"value":{"paginationInterval":{"value":0},"hasNext":{"expression":true,"value":null},"nextUrl":{"expression":true,"value":null},"overrideHeaders":{"value":[{"overrideHeaderValue":{"expression":true,"value":null},"overrideHeaderName":{"value":null,"expression":false}}]},"overrideParams":{"value":[{"overrideParamValue":{"expression":true,"value":null},"overrideParamName":{"value":null,"expression":false}}]},"maxPage":{"value":null,"expression":false},"overrideURI":{"value":false},"reuseParamsForPagination":{"value":false}}},"clientProperties":{"value":{"connection":{"value":{"cookiePolicy":{"value":"RFC Lax"},"readTimeout":{"value":900},"connTimeout":{"value":30},"trustAllCerts":{"value":false},"diskStagingProp":{"value":false}}},"retry":{"value":{"retryCondition":{"value":"Connection Errors"},"maxRetry":{"value":5},"retryInterval":{"value":3},"autoRetry429":{"value":true},"useRetryAfterHeader":{"value":true}}},"redirects":{"value":{"followRedirection":{"value":true},"maxRedirect":{"value":10,"expression":false},"allowRelativeRedirect":{"value":true},"allowCircularRedirect":{"value":false},"followOriginalMethod":{"value":false}}},"outputProps":{"value":{"responseType":{"value":"JSON"},"extractEntityPath":{"value":"$.entity","expression":true},"errorRespToErrorview":{"value":true},"extractEntity":{"value":false},"includeCookies":{"value":false}}}}}},"account":{"account_ref":{"value":{"label":{"value":"SAP_S4Hana_QA - HTTP","label":"SAP_S4Hana_QA - HTTP","expression":false},"ref_class_id":{"value":"com-snaplogic-snaps-apisuite-accounts-basicauthaccount"},"ref_id":{"value":"1b3bf754-ddae-4118-8e27-961632a0691f","expression":false}}}},"view_serial":101},"class_build_tag":"main29887","instance_id":"d3f21319-0ecc-4dc6-8354-6b5f5982ffe4"},"21a626b4-c354-42a9-b9e4-79461f5c9d93":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-main29887","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"21a626b4-c354-42a9-b9e4-79461f5c9d93_2","instance_version":2,"property_map":{"info":{"label":{"value":"Mapper2"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"passThrough":{"value":false},"transformations":{"value":{"mappingRoot":{"value":"$"},"mappingTable":{"value":[{"expression":{"expression":true,"value":"parseInt($entity)"},"targetPath":{"value":"total_count"}}]}}},"nullSafeAccess":{"value":false}},"view_serial":100},"class_build_tag":"main29887","instance_id":"21a626b4-c354-42a9-b9e4-79461f5c9d93"}},"link_map":{"link102":{"dst_id":"c3ab5e34-00d9-4f10-924b-ab0b28c232f8","dst_view_id":"input0","src_id":"9b55ee71-a7bc-4a0b-ab63-e1f66fee52ad","src_view_id":"output0"},"link103":{"dst_id":"5101b64b-7d1f-4e29-b5e5-79b350a4cbdb","dst_view_id":"input0","src_id":"c3ab5e34-00d9-4f10-924b-ab0b28c232f8","src_view_id":"output0"},"link111":{"dst_id":"21a626b4-c354-42a9-b9e4-79461f5c9d93","dst_view_id":"input0","src_id":"d3f21319-0ecc-4dc6-8354-6b5f5982ffe4","src_view_id":"outputResponse"},"link112":{"dst_id":"9b55ee71-a7bc-4a0b-ab63-e1f66fee52ad","dst_view_id":"input0","src_id":"20489636-42d8-4bc4-ba87-fbd0b7536715","src_view_id":"output0"},"link113":{"dst_id":"20489636-42d8-4bc4-ba87-fbd0b7536715","dst_view_id":"input0","src_id":"21a626b4-c354-42a9-b9e4-79461f5c9d93","src_view_id":"output0"},"link114":{"dst_id":"d3f21319-0ecc-4dc6-8354-6b5f5982ffe4","dst_view_id":"input101","src_id":"d8954762-9c1b-496b-82da-61fe75a90f91","src_view_id":"output101"}},"class_id":"com-snaplogic-pipeline","class_version":9,"instance_id":"10b60e61-6e42-46d3-acbc-b6faee445982","instance_fqid":"10b60e61-6e42-46d3-acbc-b6faee445982_25","create_time":"2025-04-23T13:46:24.468000+00:00","update_time":"2025-05-16T04:09:45.510000+00:00","update_user_id":"shibi.prabhu@flywheeldigital.com","create_user_id":"shibi.prabhu@flywheeldigital.com","migrate_version":"main-33084","scrub_backup":[],"scrub_version":"bd5ad2571a0eafe60808d55c3e16c0f8e0ae08d67f5369bb3ad9c1921556eb14","path":"/OmnicomDev/projects/Shibi Prabhu/SAP_SALESORDER","snode_id":"6808ef30b922c2d3884ff783","project_snode_id":"66b0a1ad1391f6d3d5b1791d","partition_snode_id":"66ab5aa1ef4aa40316e99b9a","name":"SAP_SALESORDER","target_runtime":"standard","org_id":"66ab5aa1ef4aa40316e99b98","org_snode_id":"66ab5aa1ef4aa40316e99b98","original":{"name":"SAP_SALESORDER","owner":"shibi.prabhu@flywheeldigital.com","updated_by":"shibi.prabhu@flywheeldigital.com","time_created":"2025-04-23T13:46:24.488000+00:00","time_updated":"2025-05-16T04:09:45.510000+00:00","time_leased":null,"snode_id":"6808ef30b922c2d3884ff783","acl":[],"asset_id":"10b60e61-6e42-46d3-acbc-b6faee445982","asset_type":"Pipeline","lease_info":{},"perms":["X","A","R","W"],"metadata":{},"parent_snode_id":"66b0a1ad1391f6d3d5b1791d","partition_snode_id":"66ab5aa1ef4aa40316e99b9a","path":"/OmnicomDev/projects/Shibi Prabhu/SAP_SALESORDER","original":{"Source_path":"/OmnicomDev/projects/Shibi Prabhu/","Target_path":"/OmnicomDev/projects/Backedup pipelines/"}},"Project name":"SAP_SALESORDER"}