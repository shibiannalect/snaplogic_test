{"class_fqid":"com-snaplogic-pipeline_9","instance_version":22,"link_serial":116,"path_id":"/OmnicomDev/projects/Shibi Prabhu","property_map":{"info":{"label":{"value":"CHILD - SALESORDER"},"author":{"value":"shibi.prabhu@flywheeldigital.com"},"pipeline_doc_uri":{"value":null},"notes":{"value":null},"purpose":{"value":null}},"error":{"error_behavior":{"value":"none"}},"settings":{"error_pipeline":{"value":null,"expression":false},"error_param_table":{"value":[]},"param_table":{"value":[{"capture":{"value":false},"key":{"value":"top"},"value":{"value":"100"},"required":{"value":false},"data_type":{"value":"string"},"description":{"value":null}},{"capture":{"value":false},"key":{"value":"skip"},"value":{"value":"0"},"required":{"value":false},"data_type":{"value":"string"},"description":{"value":null}}]},"imports":{"value":[]}},"instance_version":21,"input":{"ebe3e87c-6843-4225-b197-78a6a8c41609_input0":{"view_type":{"value":"document"},"label":{"value":"5s delay - input0"}}},"output":{"9c4790fe-e6ad-47cc-95e2-063a08e79580_output101":{"label":{"value":"Azure SQL - Bulk Load - output0"},"view_type":{"value":"document"}}}},"render_map":{"scale_ratio":1,"pan_x_num":0,"pan_y_num":0,"default_snaplex":"66ab5aac86801df4cd2cfc05","detail_map":{"7cc9133b-0b88-4e8e-a148-6d17b0f83105":{"grid_x_int":5,"grid_y_int":1,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0},"ebe3e87c-6843-4225-b197-78a6a8c41609":{"grid_x_int":4,"grid_y_int":1,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0},"9c4790fe-e6ad-47cc-95e2-063a08e79580":{"grid_x_int":8,"grid_y_int":1,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0},"2b2fcc86-b095-4d53-82ae-6f15133216ff":{"grid_x_int":6,"grid_y_int":1,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"output":{},"input":{}},"f60f9f66-33e8-4415-a515-86b94d1c8e08":{"grid_x_int":7,"grid_y_int":1,"rot_int":0,"recommendation_id":null,"source":"","index":null,"rot_tail_int":0,"output":{},"input":{}}}},"snap_map":{"7cc9133b-0b88-4e8e-a148-6d17b0f83105":{"class_fqid":"com-snaplogic-snaps-apisuite-httpclient_1-main29887","class_id":"com-snaplogic-snaps-apisuite-httpclient","class_version":1,"instance_fqid":"7cc9133b-0b88-4e8e-a148-6d17b0f83105_4","instance_version":4,"property_map":{"info":{"label":{"value":"HTTP Client"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"outputResponse":{"view_type":{"value":"document"},"label":{"value":"Response"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"queryParam":{"value":[]},"httpMethod":{"value":"GET","expression":false},"execution_mode":{"value":"Validate & Execute"},"preventURLEncoding":{"value":false},"httpEntity":{"value":{"entityType":{"value":"none"},"rawEntity":{"value":"$","expression":true},"multipartSubtype":{"value":"form-data","expression":false},"multipartForm":{"value":[{"partType":{"value":"Text"},"partKey":{"value":null,"expression":false},"partValue":{"value":null,"expression":false},"partContentType":{"value":null,"expression":false}}]},"urlEncodedForm":{"value":[]},"binaryFile":{"value":null,"expression":false}}},"formEncodeSpace":{"value":false},"uri":{"value":"\"https://my305748-api.s4hana.ondemand.com/sap/opu/odata/sap/YY1_O2CSALESORDEROVERV_BI_CDS/YY1_O2Csalesorderoverv_BI(P_ExchangeRateType='M',P_DisplayCurrency='USD')/Results?$format=json&$top=\"+_top+\"&$skip=\"+_skip","expression":true},"header":{"value":[]},"enableDebug":{"value":true},"pagination":{"value":{"paginationInterval":{"value":0},"hasNext":{"expression":false,"value":null},"nextUrl":{"expression":true,"value":null},"overrideHeaders":{"value":[{"overrideHeaderValue":{"expression":false,"value":null},"overrideHeaderName":{"value":null,"expression":false}}]},"overrideParams":{"value":[{"overrideParamValue":{"expression":true,"value":null},"overrideParamName":{"value":null,"expression":false}}]},"maxPage":{"value":null,"expression":false},"overrideURI":{"value":false},"reuseParamsForPagination":{"value":false}}},"clientProperties":{"value":{"connection":{"value":{"cookiePolicy":{"value":"RFC Lax"},"readTimeout":{"value":900},"connTimeout":{"value":30},"trustAllCerts":{"value":false},"diskStagingProp":{"value":false}}},"retry":{"value":{"retryCondition":{"value":"Connection Errors"},"maxRetry":{"value":5},"retryInterval":{"value":3},"autoRetry429":{"value":true},"useRetryAfterHeader":{"value":true}}},"redirects":{"value":{"followRedirection":{"value":true},"maxRedirect":{"value":10,"expression":false},"allowRelativeRedirect":{"value":true},"allowCircularRedirect":{"value":false},"followOriginalMethod":{"value":false}}},"outputProps":{"value":{"responseType":{"value":"JSON"},"extractEntityPath":{"value":"$.entity","expression":true},"errorRespToErrorview":{"value":true},"extractEntity":{"value":false},"includeCookies":{"value":false}}}}}},"account":{"account_ref":{"value":{"label":{"value":"SAP_S4Hana_QA - HTTP","label":"SAP_S4Hana_QA - HTTP","expression":false},"ref_class_id":{"value":"com-snaplogic-snaps-apisuite-accounts-basicauthaccount"},"ref_id":{"value":"1b3bf754-ddae-4118-8e27-961632a0691f","expression":false}}}},"view_serial":100},"class_build_tag":"main29887","instance_id":"7cc9133b-0b88-4e8e-a148-6d17b0f83105"},"ebe3e87c-6843-4225-b197-78a6a8c41609":{"class_fqid":"com-snaplogic-snaps-script-script_2-main29887","class_id":"com-snaplogic-snaps-script-script","class_version":2,"instance_fqid":"ebe3e87c-6843-4225-b197-78a6a8c41609_4","instance_version":4,"property_map":{"info":{"label":{"value":"5s delay"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"executable_during_suggest":{"value":false},"language":{"value":"Python"},"script":{"value":null,"expression":false},"editable_content":{"value":"\r\n# Import the interface required by the Script snap.\r\nfrom com.snaplogic.scripting.language import ScriptHook\r\nimport time\r\nclass TransformScript(ScriptHook):\r\n    def __init__(self, input, output, error, log):\r\n        self.input = input\r\n        self.output = output\r\n        self.error = error\r\n        self.log = log\r\n\r\n    # The \"execute()\" method is called once when the pipeline is started\r\n    # and allowed to process its inputs or just send data to its outputs.\r\n    def execute(self):\r\n        self.log.info(\"Executing Transform script\")\r\n        while self.input.hasNext():\r\n            try:\r\n                # Read the next input document, store it in a new dictionary, and write this as an output document.\r\n                inDoc = self.input.next()\r\n                time.sleep(5)\r\n                outDoc = inDoc\r\n                self.output.write(inDoc, outDoc)\r\n            except Exception as e:\r\n                errDoc = {\r\n                    'error' : str(e)\r\n                }\r\n                self.log.error(\"Error in python script\")\r\n                self.error.write(errDoc)\r\n\r\n        self.log.info(\"Script executed\")\r\n\r\n    # The \"cleanup()\" method is called after the snap has exited the execute() method\r\n    def cleanup(self):\r\n        self.log.info(\"Cleaning up\")\r\n\r\n# The Script Snap will look for a ScriptHook object in the \"hook\"\r\n# variable.  The snap will then call the hook's \"execute\" method.\r\nhook = TransformScript(input, output, error, log)"}},"view_serial":100},"class_build_tag":"main29887","instance_id":"ebe3e87c-6843-4225-b197-78a6a8c41609"},"9c4790fe-e6ad-47cc-95e2-063a08e79580":{"class_fqid":"com-snaplogic-snaps-azuresql-azuresqlbulkload_1-main27765","class_id":"com-snaplogic-snaps-azuresql-azuresqlbulkload","class_version":1,"instance_fqid":"9c4790fe-e6ad-47cc-95e2-063a08e79580_5","instance_version":5,"property_map":{"info":{"label":{"value":"Azure SQL - Bulk Load"},"notes":{}},"input":{"inputRows":{"view_type":{"value":"document"},"label":{"value":"rows"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"executable_during_suggest":{"value":false},"createTable":{"value":true},"batchSize":{"value":500000,"expression":false},"bulkCopyTimeout":{"value":600,"expression":false},"schemaName":{"value":"\"dbo\"","expression":false},"tableName":{"value":"SAP PAGINATION TEST - SALESORDER","expression":false},"advancedProperties":{"value":[]}},"account":{"account_ref":{"value":{"label":{"value":"Omnicom_Internal_Azure","label":"../../shared/Omnicom_Internal_Azure","expression":false},"ref_class_id":{"value":"com-snaplogic-snap-api-sql-accounts-azuresqldatabaseaccount"},"ref_id":{"value":"fb179940-0e97-4c84-b876-79905bc3111c","expression":false}}}},"view_serial":101,"output":{"output101":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"main27765","instance_id":"9c4790fe-e6ad-47cc-95e2-063a08e79580"},"2b2fcc86-b095-4d53-82ae-6f15133216ff":{"class_fqid":"com-snaplogic-snaps-transform-jsonsplitter_1-main29887","class_id":"com-snaplogic-snaps-transform-jsonsplitter","class_version":1,"instance_fqid":"2b2fcc86-b095-4d53-82ae-6f15133216ff_1","instance_version":1,"property_map":{"info":{"label":{"value":"JSON Splitter"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"includeParents":{"value":false},"path":{"value":"$entity.d.results"},"nullSafeAccess":{"value":false},"includePaths":{"value":[]},"excludeList":{"value":false},"showNullValues":{"value":false}},"view_serial":100},"class_build_tag":"main29887","instance_id":"2b2fcc86-b095-4d53-82ae-6f15133216ff"},"f60f9f66-33e8-4415-a515-86b94d1c8e08":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-main29887","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"f60f9f66-33e8-4415-a515-86b94d1c8e08_1","instance_version":1,"property_map":{"info":{"label":{"value":"Mapper1"},"notes":{}},"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"settings":{"execution_mode":{"value":"Validate & Execute"},"passThrough":{"value":true},"transformations":{"value":{"mappingRoot":{"value":"$"},"mappingTable":{"value":[{"expression":{"expression":true,"value":"$__metadata"},"targetPath":{"value":null}},{"expression":{"value":"$Parameters","expression":true},"targetPath":{"value":null}},{"expression":{"value":"$SalesOrderDate == null || $SalesOrderDate == \"\" ? $SalesOrderDate : Date.parse(parseInt($SalesOrderDate.split(\"(\")[1].split(\")\")[0])).toLocaleDateString()","expression":true},"targetPath":{"value":"SalesOrderDate"}},{"expression":{"value":"$CreationDate == null || $CreationDate == \"\" ? $CreationDate : Date.parse(parseInt($CreationDate.split(\"(\")[1].split(\")\")[0])).toLocaleDateString()","expression":true},"targetPath":{"value":"CreationDate"}},{"expression":{"value":"$to_YY1_Platform_SDI","expression":true},"targetPath":{"value":null}},{"expression":{"value":"$to_YY1_ProductDealType_SDI","expression":true},"targetPath":{"value":null}},{"expression":{"value":"$to_YY1_SalesDealType_SDH","expression":true},"targetPath":{"value":null}},{"expression":{"value":"$to_YY1_SolutionType_SDH","expression":true},"targetPath":{"value":null}},{"expression":{"value":"$to_YY1_Subplatform_SDI","expression":true},"targetPath":{"value":null}}]}}},"nullSafeAccess":{"value":true}},"view_serial":100},"class_build_tag":"main29887","instance_id":"f60f9f66-33e8-4415-a515-86b94d1c8e08"}},"link_map":{"link112":{"dst_id":"f60f9f66-33e8-4415-a515-86b94d1c8e08","dst_view_id":"input0","src_id":"2b2fcc86-b095-4d53-82ae-6f15133216ff","src_view_id":"output0"},"link113":{"dst_id":"9c4790fe-e6ad-47cc-95e2-063a08e79580","dst_view_id":"inputRows","src_id":"f60f9f66-33e8-4415-a515-86b94d1c8e08","src_view_id":"output0"},"link114":{"dst_id":"2b2fcc86-b095-4d53-82ae-6f15133216ff","dst_view_id":"input0","src_id":"7cc9133b-0b88-4e8e-a148-6d17b0f83105","src_view_id":"outputResponse"},"link115":{"dst_id":"7cc9133b-0b88-4e8e-a148-6d17b0f83105","dst_view_id":"input0","src_id":"ebe3e87c-6843-4225-b197-78a6a8c41609","src_view_id":"output0"}},"class_id":"com-snaplogic-pipeline","class_version":9,"instance_id":"4ec4345d-5672-4a8b-b8b3-926d3d9ab23a","instance_fqid":"4ec4345d-5672-4a8b-b8b3-926d3d9ab23a_22","create_time":"2025-04-23T13:46:42.337000+00:00","update_time":"2025-04-23T17:02:34.204000+00:00","update_user_id":"shibi.prabhu@flywheeldigital.com","create_user_id":"shibi.prabhu@flywheeldigital.com","migrate_version":"main-33084","scrub_backup":[],"scrub_version":"bd5ad2571a0eafe60808d55c3e16c0f8e0ae08d67f5369bb3ad9c1921556eb14","_id":"4ec4345d-5672-4a8b-b8b3-926d3d9ab23a","path":"/OmnicomDev/projects/Shibi Prabhu/CHILD - SALESORDER","snode_id":"6808ef4257ed220d5a64af02","project_snode_id":"66b0a1ad1391f6d3d5b1791d","partition_snode_id":"66ab5aa1ef4aa40316e99b9a","name":"CHILD - SALESORDER","target_runtime":"standard","org_id":"66ab5aa1ef4aa40316e99b98","org_snode_id":"66ab5aa1ef4aa40316e99b98","original":{"name":"CHILD - SALESORDER","owner":"shibi.prabhu@flywheeldigital.com","updated_by":"shibi.prabhu@flywheeldigital.com","time_created":"2025-04-23T13:46:42.358000+00:00","time_updated":"2025-04-23T17:02:34.204000+00:00","time_leased":null,"snode_id":"6808ef4257ed220d5a64af02","acl":[],"asset_id":"4ec4345d-5672-4a8b-b8b3-926d3d9ab23a","asset_type":"Pipeline","lease_info":{},"perms":["X","A","R","W"],"metadata":{},"parent_snode_id":"66b0a1ad1391f6d3d5b1791d","partition_snode_id":"66ab5aa1ef4aa40316e99b9a","path":"/OmnicomDev/projects/Shibi Prabhu/CHILD - SALESORDER","original":{"Source_path":"/OmnicomDev/projects/Shibi Prabhu/","Target_path":"/OmnicomDev/projects/Backedup pipelines/"}},"Project name":"CHILD - SALESORDER"}